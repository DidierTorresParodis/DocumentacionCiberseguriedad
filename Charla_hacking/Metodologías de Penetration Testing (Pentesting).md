### **8. MetodologÃ­as de Penetration Testing**

El **Pentesting** o **Pruebas de PenetraciÃ³n** es una evaluaciÃ³n controlada de la seguridad de un sistema, red o aplicaciÃ³n, donde se simulan ataques reales para identificar vulnerabilidades antes de que puedan ser explotadas por atacantes malintencionados.

Las metodologÃ­as de Pentesting ayudan a estructurar estos procesos y garantizar que sean efectivos y repetibles.

---

## **8.1. Fases del Pentesting**

Las pruebas de penetraciÃ³n suelen dividirse en **cinco fases principales**:

### **1ï¸âƒ£ RecolecciÃ³n de InformaciÃ³n (Reconocimiento o Footprinting)**

Objetivo: Obtener la mayor cantidad de datos sobre el objetivo antes de un ataque.

ğŸ”¹ **OSINT (Open Source Intelligence):** Uso de fuentes abiertas para recopilar informaciÃ³n.  
ğŸ”¹ **EnumeraciÃ³n de subdominios:** Identificar servidores y servicios.  
ğŸ”¹ **Fingerprinting:** Determinar quÃ© tecnologÃ­as y sistemas operativos estÃ¡n en uso.

ğŸ›  **Herramientas:**  
âœ… **Shodan** â€“ Escaneo de dispositivos conectados a Internet.  
âœ… **theHarvester** â€“ RecolecciÃ³n de correos, subdominios y usuarios.  
âœ… **Nmap** â€“ IdentificaciÃ³n de servicios y puertos abiertos.

---

### **2ï¸âƒ£ Escaneo y EnumeraciÃ³n**

Objetivo: Identificar posibles vulnerabilidades en los sistemas objetivo.

ğŸ”¹ **Escaneo de puertos y servicios activos.**  
ğŸ”¹ **EnumeraciÃ³n de usuarios, archivos compartidos y bases de datos.**  
ğŸ”¹ **DetecciÃ³n de versiones de software y vulnerabilidades conocidas.**

ğŸ›  **Herramientas:**  
âœ… **Nmap** â€“ Escaneo de puertos y detecciÃ³n de servicios.  
âœ… **Nikto** â€“ AnÃ¡lisis de seguridad en servidores web.  
âœ… **WPScan** â€“ Escaneo de vulnerabilidades en WordPress.

---

### **3ï¸âƒ£ ExplotaciÃ³n de Vulnerabilidades**

Objetivo: Comprometer el sistema utilizando exploits conocidos o tÃ©cnicas avanzadas.

ğŸ”¹ **Ejecutar exploits contra vulnerabilidades detectadas.**  
ğŸ”¹ **Escalada de privilegios para obtener control total.**  
ğŸ”¹ **Movilidad lateral dentro de la red objetivo.**

ğŸ›  **Herramientas:**  
âœ… **Metasploit** â€“ Plataforma para explotaciÃ³n de sistemas.  
âœ… **SQLmap** â€“ Ataques de inyecciÃ³n SQL automatizados.  
âœ… **Burp Suite** â€“ Pruebas de seguridad en aplicaciones web.

---

### **4ï¸âƒ£ Post-ExplotaciÃ³n y Mantenimiento del Acceso**

Objetivo: Evaluar el impacto del ataque y mantener el acceso al sistema.

ğŸ”¹ **Dumping de credenciales y persistencia en el sistema.**  
ğŸ”¹ **AnÃ¡lisis de archivos sensibles y bases de datos.**  
ğŸ”¹ **Movimiento lateral para comprometer otros sistemas.**

ğŸ›  **Herramientas:**  
âœ… **Mimikatz** â€“ Robo de credenciales en sistemas Windows.  
âœ… **Empire** â€“ Framework para post-explotaciÃ³n.  
âœ… **PowerShell Empire** â€“ Persistencia y escalada de privilegios en Windows.

---

### **5ï¸âƒ£ GeneraciÃ³n de Reporte y Recomendaciones**

Objetivo: Documentar los hallazgos y ofrecer soluciones de mitigaciÃ³n.

ğŸ”¹ **Resumen del alcance y metodologÃ­a utilizada.**  
ğŸ”¹ **Listado de vulnerabilidades con nivel de criticidad.**  
ğŸ”¹ **Recomendaciones para corregir las vulnerabilidades detectadas.**

ğŸ›  **Herramientas:**  
âœ… **Faraday** â€“ Plataforma de gestiÃ³n de pruebas de seguridad.  
âœ… **Dradis** â€“ GeneraciÃ³n de reportes de pentesting.  
âœ… **CVE Mitre Database** â€“ Referencia de vulnerabilidades y parches.

---

## **8.2. Tipos de Pruebas de PenetraciÃ³n**

Dependiendo del nivel de acceso y conocimiento previo del sistema, existen diferentes enfoques de Pentesting:

### **ğŸ”µ Black Box (Caja Negra)**

ğŸ”¹ El tester no tiene informaciÃ³n previa del sistema.  
ğŸ”¹ Se simula un ataque real sin conocimiento interno.  
ğŸ”¹ Ãštil para evaluar la seguridad perimetral.

### **ğŸŸ¡ Gray Box (Caja Gris)**

ğŸ”¹ El tester tiene acceso parcial a informaciÃ³n del sistema.  
ğŸ”¹ Se enfoca en probar controles internos y externos.  
ğŸ”¹ Representa un ataque desde una cuenta comprometida.

### **âšª White Box (Caja Blanca)**

ğŸ”¹ El tester tiene acceso completo a informaciÃ³n del sistema.  
ğŸ”¹ Se analiza la seguridad desde dentro, incluyendo cÃ³digo fuente.  
ğŸ”¹ Ãštil para auditorÃ­as exhaustivas de seguridad.

---

## **8.3. MetodologÃ­as de Pruebas de PenetraciÃ³n**

Existen estÃ¡ndares reconocidos a nivel internacional para guiar un Pentesting de manera profesional:

### **ğŸ“Œ OSSTMM (Open Source Security Testing Methodology Manual)**

ğŸ”¹ Se centra en la evaluaciÃ³n de seguridad operativa.  
ğŸ”¹ Define mÃ©tricas objetivas para evaluar la seguridad de una organizaciÃ³n.

### **ğŸ“Œ NIST SP 800-115 (National Institute of Standards and Technology)**

ğŸ”¹ GuÃ­a para pruebas de seguridad en sistemas de informaciÃ³n.  
ğŸ”¹ Enfocado en organizaciones gubernamentales y privadas.

### **ğŸ“Œ PTES (Penetration Testing Execution Standard)**

ğŸ”¹ Define un proceso estructurado para realizar pruebas de penetraciÃ³n.  
ğŸ”¹ Incluye reconocimiento, escaneo, explotaciÃ³n y reporte de hallazgos.

### **ğŸ“Œ OWASP Testing Guide (Open Web Application Security Project)**

ğŸ”¹ MetodologÃ­a especÃ­fica para pentesting de aplicaciones web.  
ğŸ”¹ Se centra en vulnerabilidades como inyecciÃ³n SQL, XSS y CSRF.

---

## **8.4. Ejemplo de un Pentest Real**

**Caso:** Un pentester es contratado para evaluar la seguridad de un sitio web de comercio electrÃ³nico.

1ï¸âƒ£ **Reconocimiento:** Se usa **Shodan** y **theHarvester** para recolectar informaciÃ³n pÃºblica sobre el servidor.  
2ï¸âƒ£ **Escaneo:** Se usa **Nmap** para identificar puertos abiertos y servicios en ejecuciÃ³n.  
3ï¸âƒ£ **ExplotaciÃ³n:** Se detecta una vulnerabilidad en la versiÃ³n de Apache y se usa **Metasploit** para explotarla.  
4ï¸âƒ£ **Post-ExplotaciÃ³n:** Se extraen credenciales de usuarios almacenadas en la base de datos.  
5ï¸âƒ£ **Reporte:** Se genera un informe con recomendaciones para mitigar las vulnerabilidades.

---

## **8.5. ConclusiÃ³n**

Las pruebas de penetraciÃ³n son esenciales para evaluar la seguridad de sistemas y aplicaciones antes de que los atacantes lo hagan. Seguir una metodologÃ­a estructurada y utilizar herramientas adecuadas permite detectar vulnerabilidades y fortalecer la ciberseguridad.

